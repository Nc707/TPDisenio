<html>
<head>
  <meta charset="UTF-8" />
  <title>Alta Huésped</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>

  <header class="top-bar">
    Premier
  </header>

  <main class="form-container">
    <h1>Alta Huésped</h1>

    <!-- ✅ le agrego id y onsubmit -->
    <form class="guest-form" id="form-huesped" onsubmit="handleSubmit(event)">
      <!-- Columna 1 -->
      <div class="form-group">
        <label>Apellido<span class="required">*</span></label>
        <input type="text" name="apellido" required/>
      </div>

      <!-- Columna 2 -->
      <div class="form-group">
        <label>Dirección<span class="required">*</span></label>
        <input type="text" name="calle" placeholder="CALLE" required/>
      </div>

      <!-- Columna 3 -->
      <div class="form-group">
        <label>Fecha de Nacimiento<span class="required">*</span></label>
        <input type="date" name="fecha_nacimiento" required/>
      </div>

      <!-- Columna 1 -->
      <div class="form-group">
        <label>Nombre<span class="required">*</span></label>
        <input type="text" name="nombre" required/>
      </div>

      <!-- Columna 2: número / dpto / piso -->
      <div class="form-group">
        <label>&nbsp;</label>
        <div class="small-inputs">
          <input type="text" name="numero" placeholder="NÚMERO" required/>
          <input type="text" name="dpto" placeholder="DPTO" />
          <input type="text" name="piso" placeholder="PISO" />
        </div>
      </div>

      <!-- Columna 3 -->
      <div class="form-group">
        <label>Teléfono<span class="required">*</span></label>
        <input type="tel" name="telefono" required/>
      </div>

      <!-- Columna 1 -->
      <div class="form-group">
        <label>Tipo de Documento</label>
        <select name="tipo_documento">
          <option>DNI</option>
          <option>Pasaporte</option>
          <option>CUIL</option>
        </select>
      </div>

      <!-- Columna 2 -->
      <div class="form-group">
        <label>Código Postal</label>
        <input type="text" name="codigo_postal" required/>
      </div>

      <!-- Columna 3 -->
      <div class="form-group">
        <label>Email</label>
        <input type="email" name="email" required/>
      </div>

      <!-- Columna 1 -->
      <div class="form-group">
        <label>Número de Documento</label>
        <input type="text" name="numero_documento" required/>
      </div>

      <!-- Columna 2 -->
      <div class="form-group">
        <label>Localidad<span class="required">*</span></label>
        <input type="text" name="localidad" required/>
      </div>

      <!-- Columna 3 -->
      <div class="form-group">
        <label>Ocupación<span class="required">*</span></label>
        <input type="text" name="ocupacion" required/>
      </div>

      <!-- Columna 1 -->
      <div class="form-group">
        <label>CUIT</label>
        <input type="text" name="cuit" required/>
      </div>

      <!-- Columna 2 -->
      <div class="form-group">
        <label>Provincia<span class="required">*</span></label>
        <input type="text" name="provincia" required/>
      </div>

      <!-- Columna 3 -->
      <div class="form-group">
        <label>Nacionalidad<span class="required">*</span></label>
        <input type="text" name="nacionalidad" required/>
      </div>

      <!-- Columna 1 -->
      <div class="form-group">
        <label>Posición frente al IVA</label>
        <select name="iva">
          <option>Categoría B</option>
          <option>Responsable Inscripto</option>
          <option>Monotributista</option>
          <option>Exento</option>
        </select>
      </div>

      <!-- Columna 2 vacía para respetar el diseño -->
      <div></div>

      <!-- Columna 3 vacía para respetar el diseño -->
      <div></div>

      <!-- Botones -->
      <div class="buttons-row">
        <button type="button" class="btn-secondary">CANCELAR</button>
        <button type="reset" class="btn-secondary">BORRAR</button>
        <button type="submit" class="btn-primary">SIGUIENTE</button>
      </div>
    </form>
  </main>

  <!-- ✅ POPUP / MODAL -->
  <div id="modal-confirm" class="modal">
    <div class="modal-box">
      <header class="modal-header">
        <div class="modal-left">
          <span class="modal-icon">i</span>
        </div>
        <div class="modal-right">
          Premier
        </div>
      </header>

      <div class="modal-body">
  <p id="popup-text">
    El huésped ha sido satisfactoriamente cargado al sistema.<br>
    ¿Desea cargar otro?
  </p>
</div>


      <div class="modal-buttons">
        <button type="button" class="btn-secondary" onclick="handleNo()">NO</button>
        <button type="button" class="btn-primary" onclick="handleYes()">SÍ</button>
      </div>
    </div>
  </div>

  <!-- ✅ JS para controlar el popup -->
  <script>
  function handleSubmit(event) {
    event.preventDefault(); // evita que se envíe el formulario

    const form = document.getElementById("form-huesped");
    const requiredFields = form.querySelectorAll("[required]");

    let valid = true;

    // limpiar mensajes previos
    form.querySelectorAll(".error-msg").forEach(e => e.remove());
    form.querySelectorAll("input, select").forEach(el => el.style.borderColor = "");

    // verificar campos vacíos
    requiredFields.forEach(field => {
      if (field.value.trim() === "") {
        valid = false;
        field.style.borderColor = "red";
        const msg = document.createElement("small");
        msg.classList.add("error-msg");
        msg.style.color = "red";
        msg.innerText = "El campo no puede quedar vacío";
        field.insertAdjacentElement("afterend", msg);
      }
    });

    if (!valid) return; // si hay vacíos, no continua

    // obtener nombre y apellido del formulario
    const nombre = form.querySelector("[name='nombre']").value.trim();
    const apellido = form.querySelector("[name='apellido']").value.trim();

    // actualizar texto del popup
    const popupText = document.getElementById("popup-text");
    popupText.innerHTML = `El huésped <b>${nombre} ${apellido}</b> ha sido<br>
      satisfactoriamente cargado al sistema.<br>¿Desea cargar otro?`;

    // mostrar popup
    document.getElementById("modal-confirm").style.display = "flex";
  }

  function handleNo() {
    // cerrar popup
    document.getElementById("modal-confirm").style.display = "none";
  }

  function handleYes() {
    // limpiar formulario
    const form = document.getElementById("form-huesped");
    form.reset();
    document.getElementById("modal-confirm").style.display = "none";
  }
</script>

</body>
</html>