<!DOCTYPE html>
<!-- 1. Declaramos que este HTML usa 'layout.html' como plantilla -->
<html lang="es" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout.html}">
<head>
  <!-- 2. Solo necesitamos definir el título. El CSS se carga desde el layout -->
  <title>Mostrar Estado de Habitaciones</title>
</head>
<body>

  <!-- 3. Este bloque reemplaza al fragmento 'top-bar-content' del layout -->
  <div class="top-bar" layout:fragment="top-bar-content">
    Premier
  </div>

  <!-- 4. Este bloque reemplaza al fragmento 'content' del layout -->
  <div class="form-container" layout:fragment="content">
    <h1>Mostrar Estado de Habitaciones</h1>

    <form id="room-status-form">
      <!-- Fila para los campos de fecha y el botón de búsqueda -->
      <div class="form-row">
        <div class="form-group">
          <label for="fecha-desde">Fecha desde</label>
          <input type="date" id="fecha-desde" value="2025-06-04">
        </div>
        <div class="form-group">
          <label for="fecha-hasta">Fecha hasta</label>
          <input type="date" id="fecha-hasta" value="2025-06-04">
        </div>
        <button type="submit" class="btn-primary">BUSCAR</button>
      </div>

      <!-- Fila para el botón de cancelar -->
      <div class="cancel-row">
        <button type="button" class="btn-secondary" id="open-modal-btn">CANCELAR</button>
      </div>

    </form>
  </div>

  <!-- 5. Este bloque reemplaza al fragmento 'modals' del layout -->
  <div class="modal" id="myModal" layout:fragment="modals">
    <div class="modal-box">
      <div class="modal-header">
        <div class="modal-left">
          <span class="modal-icon">?</span>
          <span>Confirmación</span>
        </div>
        <span class="modal-close" id="modal-close-x">&times;</span>
      </div>
      <div class="modal-body">
        <p>¿Está seguro de que desea cancelar la operación?</p>
      </div>
      <div class="modal-buttons">
        <button type="button" class="btn-secondary" id="modal-cancel-btn">No</button>
        <button type="button" class="btn-primary">Sí, Cancelar</button>
      </div>
    </div>
  </div>

  <!-- 6. Este bloque reemplaza al fragmento 'scripts' del layout -->
  <script layout:fragment="scripts">
    // Pequeño script para hacer el modal funcional
    document.addEventListener('DOMContentLoaded', () => {
      const modal = document.getElementById('myModal');
      const openBtn = document.getElementById('open-modal-btn');
      const closeBtnX = document.getElementById('modal-close-x');
      const cancelBtnModal = document.getElementById('modal-cancel-btn');

      const showModal = () => {
        modal.style.display = 'flex';
      };

      const hideModal = () => {
        modal.style.display = 'none';
      };

      // Abrir modal
      openBtn.addEventListener('click', showModal);

      // Cerrar modal
      closeBtnX.addEventListener('click', hideModal);
      cancelBtnModal.addEventListener('click', hideModal);

      // Cerrar al hacer clic fuera del modal-box
      modal.addEventListener('click', (e) => {
        if (e.target === modal) {
          hideModal();
        }
      });
      
      // Prevenir envío del formulario (para demo)
      document.getElementById('room-status-form').addEventListener('submit', (e) => {
        e.preventDefault();
        console.log('Formulario enviado (simulación)');
      });
    });
  </script>

</body>
</html>